<!doctype html>

<html lang="en">
<head>
  <title>Search Engine</title>
</head>
<body>

  <input type="text" id="text" onKeyUp="DoSomethingOnKeyUp(event, this)">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="movies_names.js"></script>
  <script>

    let DoSomethingOnKeyUp = (e, input) => {
      let code = (e.keyCode ? e.keyCode : e.which);
      let searchText = document.getElementById('text').value;
      let results = [];

      // if Backspace is pressed then don't run this piece of code
      if(code != 8) {
        json.forEach((element) => {
          let movieTitle = element.title;
          if(movieTitle != null){
            movieTitle = movieTitle.toString().substr(0, searchText.length).toLowerCase();
            if(searchText.toLowerCase() === movieTitle){
              results.push(element);
            }
          }
        });
      }

      console.log(results);
    }

  </script>
</body>
</html>
